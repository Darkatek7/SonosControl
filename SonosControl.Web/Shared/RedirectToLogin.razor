@inject NavigationManager Navigation

@code {
    protected override void OnInitialized()
    {
        var relativePath = Navigation.ToBaseRelativePath(Navigation.Uri);

        if (!string.IsNullOrEmpty(relativePath) && !relativePath.StartsWith("/"))
        {
            relativePath = $"/{relativePath}";
        }

        var target = string.IsNullOrEmpty(relativePath)
            ? "/auth/login"
            : $"/auth/login?returnUrl={Uri.EscapeDataString(relativePath)}";

        Navigation.NavigateTo(target, true);
    }
}
